const bookmark=a=>{const o=document.title,e=o.split(" - "),t=window.location.pathname,r=t.substring(1).split("/"),s=t.substring(1).split("/");s.shift();let k="",i={};1==a?(k="/bookmarks/set",i={title:escape(e[0]+" - "+e[1]),url:escape(s.join("/"))}):k="/bookmarks/del",i.id=r[1]+"-"+r[2],$.ajax({type:"POST",url:k,data:i,success:a=>{switch(a=JSON.parse(a),a.status){case 0:$("#bookmark-saved-modal").modal("open"),$("#bookmark-action").attr("onclick","bookmark(0)"),$("#bookmark-icon").text("bookmark");break;case 1:$("#bookmark-removed-modal").modal("open"),$("#bookmark-action").attr("onclick","bookmark(1)"),$("#bookmark-icon").text("bookmark_border");break;case-1:$("#bookmark-exists-modal").modal("open");break;case-2:alert("Parameetrid puuduvad!");break;case-3:alert("Järjehoidjat ei leitud!")}}})},removeFromList=(a,o,e)=>{const t=confirm(`Kindel, et kustutada ${o}?`);if(!t)return;const r=a.split("/"),s={id:r[0]+"-"+r[1]};$.ajax({type:"POST",url:"/bookmarks/del",data:s,success:a=>{switch(a=JSON.parse(a),a.status){case 1:$("#bookmark-removed-modal").modal("open"),$("#bookmark-"+e).remove();break;case-2:alert("Parameetrid puuduvad!");break;case-3:alert("Järjehoidjat ei leitud!")}}})};